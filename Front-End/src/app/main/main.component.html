<ngx-spinner type="ball-pulse">
  <p style="font-size: 20px; color: white">Computing result...</p>
</ngx-spinner>
<div class="container">
  <div class="accordion" id="accordionExample">
      <div class="card">
          <div class="card-header" id="headingOne">
              <div class="container pb-4 pt-4" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  <div class="align-items-center row">
                      <div class="col">
                          <hr class="border-secondary mb-0 mt-0">
                      </div>
                      <div class="col-auto">
                          <h4 class="font-weight-bold mb-0 text-uppercase">Input Section</h4>
                      </div>
                      <div class="col">
                          <hr class="border-secondary mb-0 mt-0">
                      </div>
                  </div>
              </div>
          </div>
          <div id="collapseOne" class="collapse show" aria-labelledby="headingOne">
            <app-input></app-input>
          </div>
      </div>
      <div class="card">
          <div class="card-header" id="headingTwo">
              <div class="container pb-4 pt-4" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                  <div class="align-items-center row">
                      <div class="col">
                          <hr class="border-secondary mb-0 mt-0"/>
                      </div>
                      <div class="col-auto">
                          <h4 class="font-weight-bold mb-0 text-uppercase">Algorithm Section</h4>
                      </div>
                      <div class="col">
                          <hr class="border-secondary mb-0 mt-0"/>
                      </div>
                  </div>
              </div>
          </div>
          <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo">
              <div class="card-body">
                <div class="btn-group" dropdown [autoClose]="true" container="body" [insideClick]="true" >
                  <button id="button-nested" dropdownToggle type="button" class="btn btn-secondary dropdown-toggle"
                          aria-controls="dropdown-nested">
                          Select Algorithm <span class="caret"></span>
                  </button>
                  <ul id="dropdown-nested" *dropdownMenu class="dropdown-menu"
                      role="menu" aria-labelledby="button-nested">
                    <li role="menuitem" dropdown triggers="mouseclick" placement="right" container="body">
                      <a dropdownToggle class="dropdown-item dropdown-toggle"
                         (click)="false">Clustering <span class="caret"></span></a>
                      <ul *dropdownMenu class="dropdown-menu" role="menu">
                        <li role="menuitem"><a class="dropdown-item" (click)="setAlgorithm('K-Means')">K-Means</a></li>
                        <li role="menuitem"><a class="dropdown-item" (click)="setAlgorithm('DBSCAN')" >DBScan</a></li>
                        <li role="menuitem"><a class="dropdown-item" (click)="setAlgorithm('Agglomerative')">Agglomerative</a></li>
                      </ul>
                    </li>

                    <li role="menuitem" dropdown triggers="mouseclick" placement="right" container="body">
                      <a dropdownToggle class="dropdown-item dropdown-toggle"
                         (click)="false">Classification <span class="caret"></span></a>
                      <ul *dropdownMenu class="dropdown-menu" role="menu">
                        <li role="menuitem"><a class="dropdown-item" (click)="setAlgorithm('KNN')">K-Nearest Neighbors</a></li>
                        <li role="menuitem"><a class="dropdown-item" (click)="setAlgorithm('NaiveBayes')">Gaussian Naive Bayes</a></li>
                        <li role="menuitem"><a class="dropdown-item" (click)="setAlgorithm('SVM')">Support Vector Machine</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
                <div class="card" [ngSwitch]="selectedAlgorithm">
                  <app-k-means *ngSwitchCase="'K-Means'" (algorithmEmitter)="runAlgorithm($event)"></app-k-means>
                  <app-db-scan *ngSwitchCase="'DBSCAN'" (algorithmEmitter)="runAlgorithm($event)"></app-db-scan>
                  <app-agglomerative *ngSwitchCase="'Agglomerative'" (algorithmEmitter)="runAlgorithm($event)"></app-agglomerative>
                  <app-classification *ngSwitchCase="'KNN'" (algorithmEmitter)="runAlgorithm($event)" [title]="'K-Nearest Neighbors'"></app-classification>
                  <app-classification *ngSwitchCase="'NaiveBayes'" (algorithmEmitter)="runAlgorithm($event)" [title]="'Gaussian Naive Bayes'"></app-classification>
                  <app-classification *ngSwitchCase="'SVM'" (algorithmEmitter)="runAlgorithm($event)" [title]="'Support Vector Machine'"></app-classification>
                </div>
              </div>
          </div>
      </div>
      <div class="card">
          <div class="card-header" id="headingThree">
              <div class="container pb-4 pt-4" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                  <div class="align-items-center row">
                      <div class="col">
                          <hr class="border-secondary mb-0 mt-0"/>
                      </div>
                      <div class="col-auto">
                          <h4 class="font-weight-bold mb-0 text-uppercase">Results Section</h4>
                      </div>
                      <div class="col">
                          <hr class="border-secondary mb-0 mt-0"/>
                      </div>
                  </div>
              </div>
          </div>
          <div id="collapseThree"  aria-labelledby="headingThree"> <!--  class="collapse" -->
            <div class="card-body">
              <tabset>
                <tab *ngFor="let tabz of tabs"
                     [heading]="tabz.id"
                     [active]="tabz.active"
                     (selectTab)="tabz.active = true"
                     (deselect)="tabz.active = false"
                     [disabled]="tabz.disabled"
                     [removable]="true"
                     (removed)="removeTabHandler(tabz)"
                     [customClass]="tabz.customClass"
                     >
                     <div [ngSwitch]="tabz.type">
                      <app-kmeans-results *ngSwitchCase="'K-Means'" [data]="tabz.contentData" ></app-kmeans-results>
                      <app-dbscan-results *ngSwitchCase="'DBSCAN'"[data]="tabz.contentData"></app-dbscan-results>
                      <app-agglomerative-results *ngSwitchCase="'Agglomerative'" [data]="tabz.contentData" ></app-agglomerative-results>
                      <app-classification-results *ngSwitchCase="'KNN'" [data]="tabz.contentData" ></app-classification-results>
                      <app-classification-results *ngSwitchCase="'NaiveBayes'" [data]="tabz.contentData" ></app-classification-results>
                      <app-classification-results *ngSwitchCase="'SVM'" [data]="tabz.contentData" ></app-classification-results>
                    </div>
                    <!-- <div *ngIf="tabz.type=='DBSCAN'">
                      <app-dbscan-results [data]="tabz.contentData"></app-dbscan-results>
                    </div>
                    <div *ngIf="tabz.type=='Agglomerative'">
                      <app-agglomerative-results [data]="tabz.contentData" ></app-agglomerative-results>
                    </div>
                    <div *ngIf="tabz.type=='Agglomerative'">
                      <app-classification-results [data]="tabz.contentData" ></app-agglomerative-results>
                    </div> -->
                </tab>
              </tabset>
            </div>
          </div>
      </div>
  </div>
</div>
