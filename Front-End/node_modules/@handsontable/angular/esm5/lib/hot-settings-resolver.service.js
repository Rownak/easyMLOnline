/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import Handsontable from 'handsontable';
/** @type {?} */
var AVAILABLE_OPTIONS = Object.keys(Handsontable.DefaultSettings);
/** @type {?} */
var AVAILABLE_HOOKS = Handsontable.hooks.getRegistered();
var HotSettingsResolver = /** @class */ (function () {
    function HotSettingsResolver() {
    }
    /**
     * @param {?} component
     * @return {?}
     */
    HotSettingsResolver.prototype.mergeSettings = /**
     * @param {?} component
     * @return {?}
     */
    function (component) {
        /** @type {?} */
        var isSettingsObject = typeof component['settings'] === 'object';
        /** @type {?} */
        var mergedSettings = isSettingsObject ? component['settings'] : {};
        /** @type {?} */
        var options = AVAILABLE_HOOKS.concat(AVAILABLE_OPTIONS);
        options.forEach((/**
         * @param {?} key
         * @return {?}
         */
        function (key) {
            /** @type {?} */
            var isHook = AVAILABLE_HOOKS.indexOf(key) > -1;
            /** @type {?} */
            var option;
            if (isSettingsObject && isHook) {
                option = component['settings'][key];
            }
            if (component[key] !== void 0) {
                option = component[key];
            }
            if (option === void 0) {
                return;
            }
            else if (typeof option === 'function' && isHook) {
                mergedSettings[key] = (/**
                 * @param {...?} args
                 * @return {?}
                 */
                function () {
                    var _this = this;
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return component._ngZone.run((/**
                     * @return {?}
                     */
                    function () {
                        return option.apply(_this, args);
                    }));
                });
            }
            else {
                mergedSettings[key] = option;
            }
        }));
        return mergedSettings;
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    HotSettingsResolver.prototype.prepareChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        /** @type {?} */
        var result = {};
        /** @type {?} */
        var parameters = Object.keys(changes);
        parameters.forEach((/**
         * @param {?} param
         * @return {?}
         */
        function (param) {
            if (changes.hasOwnProperty(param)) {
                result[param] = changes[param].currentValue;
            }
        }));
        return result;
    };
    HotSettingsResolver.decorators = [
        { type: Injectable }
    ];
    return HotSettingsResolver;
}());
export { HotSettingsResolver };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG90LXNldHRpbmdzLXJlc29sdmVyLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AaGFuZHNvbnRhYmxlL2FuZ3VsYXIvIiwic291cmNlcyI6WyJsaWIvaG90LXNldHRpbmdzLXJlc29sdmVyLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQWlCLE1BQU0sZUFBZSxDQUFDO0FBQzFELE9BQU8sWUFBWSxNQUFNLGNBQWMsQ0FBQzs7SUFFbEMsaUJBQWlCLEdBQWEsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDOztJQUN2RSxlQUFlLEdBQWEsWUFBWSxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUU7QUFFcEU7SUFBQTtJQWlEQSxDQUFDOzs7OztJQS9DQywyQ0FBYTs7OztJQUFiLFVBQWMsU0FBUzs7WUFDZixnQkFBZ0IsR0FBRyxPQUFPLFNBQVMsQ0FBQyxVQUFVLENBQUMsS0FBSyxRQUFROztZQUM1RCxjQUFjLEdBQThCLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7O1lBQ3pGLE9BQU8sR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBRXpELE9BQU8sQ0FBQyxPQUFPOzs7O1FBQUMsVUFBQSxHQUFHOztnQkFDWCxNQUFNLEdBQUcsZUFBZSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7O2dCQUM1QyxNQUFNO1lBRVYsSUFBSSxnQkFBZ0IsSUFBSSxNQUFNLEVBQUU7Z0JBQzlCLE1BQU0sR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDckM7WUFFRCxJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRTtnQkFDN0IsTUFBTSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUN6QjtZQUVELElBQUksTUFBTSxLQUFLLEtBQUssQ0FBQyxFQUFFO2dCQUNyQixPQUFPO2FBRVI7aUJBQU0sSUFBSSxPQUFPLE1BQU0sS0FBSyxVQUFVLElBQUksTUFBTSxFQUFFO2dCQUNqRCxjQUFjLENBQUMsR0FBRyxDQUFDOzs7O2dCQUFHO29CQUFBLGlCQUlyQjtvQkFKOEIsY0FBTzt5QkFBUCxVQUFPLEVBQVAscUJBQU8sRUFBUCxJQUFPO3dCQUFQLHlCQUFPOztvQkFDcEMsT0FBTyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUc7OztvQkFBQzt3QkFDekIsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFDcEMsQ0FBQyxFQUFDLENBQUM7Z0JBQ0wsQ0FBQyxDQUFBLENBQUM7YUFFSDtpQkFBTTtnQkFDTCxjQUFjLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO2FBQzlCO1FBQ0gsQ0FBQyxFQUFDLENBQUM7UUFFSCxPQUFPLGNBQWMsQ0FBQztJQUN4QixDQUFDOzs7OztJQUVELDRDQUFjOzs7O0lBQWQsVUFBZSxPQUFzQjs7WUFDN0IsTUFBTSxHQUE4QixFQUFFOztZQUN0QyxVQUFVLEdBQWEsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7UUFFakQsVUFBVSxDQUFDLE9BQU87Ozs7UUFBQyxVQUFDLEtBQUs7WUFDdkIsSUFBSSxPQUFPLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNqQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQzthQUM3QztRQUNILENBQUMsRUFBQyxDQUFDO1FBRUgsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQzs7Z0JBaERGLFVBQVU7O0lBaURYLDBCQUFDO0NBQUEsQUFqREQsSUFpREM7U0FoRFksbUJBQW1CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgU2ltcGxlQ2hhbmdlcyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IEhhbmRzb250YWJsZSBmcm9tICdoYW5kc29udGFibGUnO1xuXG5jb25zdCBBVkFJTEFCTEVfT1BUSU9OUzogc3RyaW5nW10gPSBPYmplY3Qua2V5cyhIYW5kc29udGFibGUuRGVmYXVsdFNldHRpbmdzKTtcbmNvbnN0IEFWQUlMQUJMRV9IT09LUzogc3RyaW5nW10gPSBIYW5kc29udGFibGUuaG9va3MuZ2V0UmVnaXN0ZXJlZCgpO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSG90U2V0dGluZ3NSZXNvbHZlciB7XG4gIG1lcmdlU2V0dGluZ3MoY29tcG9uZW50KTogb2JqZWN0IHtcbiAgICBjb25zdCBpc1NldHRpbmdzT2JqZWN0ID0gdHlwZW9mIGNvbXBvbmVudFsnc2V0dGluZ3MnXSA9PT0gJ29iamVjdCc7XG4gICAgY29uc3QgbWVyZ2VkU2V0dGluZ3M6IEhhbmRzb250YWJsZS5HcmlkU2V0dGluZ3MgPSBpc1NldHRpbmdzT2JqZWN0ID8gY29tcG9uZW50WydzZXR0aW5ncyddIDoge307XG4gICAgY29uc3Qgb3B0aW9ucyA9IEFWQUlMQUJMRV9IT09LUy5jb25jYXQoQVZBSUxBQkxFX09QVElPTlMpO1xuXG4gICAgb3B0aW9ucy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBpc0hvb2sgPSBBVkFJTEFCTEVfSE9PS1MuaW5kZXhPZihrZXkpID4gLTE7XG4gICAgICBsZXQgb3B0aW9uO1xuXG4gICAgICBpZiAoaXNTZXR0aW5nc09iamVjdCAmJiBpc0hvb2spIHtcbiAgICAgICAgb3B0aW9uID0gY29tcG9uZW50WydzZXR0aW5ncyddW2tleV07XG4gICAgICB9XG5cbiAgICAgIGlmIChjb21wb25lbnRba2V5XSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIG9wdGlvbiA9IGNvbXBvbmVudFtrZXldO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9uID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb24gPT09ICdmdW5jdGlvbicgJiYgaXNIb29rKSB7XG4gICAgICAgIG1lcmdlZFNldHRpbmdzW2tleV0gPSBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5fbmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBvcHRpb24uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lcmdlZFNldHRpbmdzW2tleV0gPSBvcHRpb247XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWVyZ2VkU2V0dGluZ3M7XG4gIH1cblxuICBwcmVwYXJlQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogSGFuZHNvbnRhYmxlLkdyaWRTZXR0aW5ncyB7XG4gICAgY29uc3QgcmVzdWx0OiBIYW5kc29udGFibGUuR3JpZFNldHRpbmdzID0ge307XG4gICAgY29uc3QgcGFyYW1ldGVyczogc3RyaW5nW10gPSBPYmplY3Qua2V5cyhjaGFuZ2VzKTtcblxuICAgIHBhcmFtZXRlcnMuZm9yRWFjaCgocGFyYW0pID0+IHtcbiAgICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KHBhcmFtKSkge1xuICAgICAgICByZXN1bHRbcGFyYW1dID0gY2hhbmdlc1twYXJhbV0uY3VycmVudFZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuIl19